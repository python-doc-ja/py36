
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>25.1. tkinter — Tcl/Tk の Python インタフェース &#8212; Python 3.6.3 ドキュメント</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.6.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 3.6.3 ドキュメント 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="25.2. tkinter.ttk — Tk のテーマ付きウィジェット" href="tkinter.ttk.html" />
    <link rel="prev" title="25. Tk を用いたグラフィカルユーザインターフェイス" href="tk.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <link rel="canonical" href="https://docs.python.jp/3/library/tkinter.html" /><script type="text/javascript">
    $(document).ready(function() {
      var base = 'https://docs.python.org/3.6/library/tkinter.html';
      $('a.headerlink').each(function() {
        var html = '<a href="' + base + $(this).attr('href') +
                   '" title="原文へのリンク"><small>(原文)</small></a>';
        $(this).after(html);
      })
    });
    </script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/version_switch.js"></script>
    
    
 

  </head>
  <body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="tkinter.ttk.html" title="25.2. tkinter.ttk — Tk のテーマ付きウィジェット"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="tk.html" title="25. Tk を用いたグラフィカルユーザインターフェイス"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="https://www.python.org/">Python</a> &#187;</li>
        <li>
          <span class="version_switcher_placeholder">3.6.3</span>
          <a href="../index.html">ドキュメント</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tk.html" accesskey="U">25. Tk を用いたグラフィカルユーザインターフェイス</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-tkinter">
<span id="tkinter-python-interface-to-tcl-tk"></span><h1>25.1. <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> — Tcl/Tk の Python インタフェース<a class="headerlink" href="#module-tkinter" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><strong>ソースコード:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.6/Lib/tkinter/__init__.py">Lib/tkinter/__init__.py</a></p>
<hr class="docutils" />
<p><a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> パッケージ (&quot;Tk インタフェース&quot;) は、Tk GUI ツールキットに対する標準の Python インタフェースです。Tk と <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> はほとんどの Unix プラットフォームの他、Windows システム上でも利用できます (Tk 自体は Python の一部ではありません。Tk は ActiveState で保守されています)。<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> が正常にインストールされているかどうかは、コマンドラインから <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">tkinter</span></code> を実行することで確認できます。これはシンプルな Tk インタフェースのデモンストレーションウィンドウを開きます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<dl class="last docutils">
<dt><a class="reference external" href="https://wiki.python.org/moin/TkInter">Python Tkinter Resources</a></dt>
<dd>Python Tkinter Topic Guide では、Tk を Python から利用する上での情報と、その他の Tk にまつわる情報源を数多く提供しています。</dd>
<dt><a class="reference external" href="http://www.tkdocs.com/">TKDocs</a></dt>
<dd>豊富なチュートリアルといくつかのウィジットについてのよりフレンドリなページ。</dd>
<dt><a class="reference external" href="https://infohost.nmt.edu/tcc/help/pubs/tkinter/web/index.html">Tkinter reference: a GUI for Python</a></dt>
<dd>オンラインリファレンス資料です。</dd>
<dt><a class="reference external" href="http://effbot.org/tkinterbook/">Tkinter docs from effbot</a></dt>
<dd>effbot.org が提供している tkinter のオンラインリファレンスです。</dd>
<dt><a class="reference external" href="https://www.tcl.tk/man/tcl8.5/">Tcl/Tk manual</a></dt>
<dd>tcl/tk の最新バージョンの公式マニュアルです。</dd>
<dt><a class="reference external" href="http://learning-python.com/books/about-pp4e.html">Programming Python</a></dt>
<dd>マーク・ルッツによる書籍で、Tkinter についても広く取り上げています。</dd>
<dt><a class="reference external" href="http://www.amazon.com/Modern-Tkinter-Python-Developers-ebook/dp/B0071QDNLO/">Modern Tkinter for Busy Python Developers</a></dt>
<dd>Mark Rozerman による書籍で、Python と Tkinter を使用した魅力的でモダンなグラフィカルユーザーインターフェースの構築方法を説明しています。</dd>
<dt><a class="reference external" href="https://www.manning.com/books/python-and-tkinter-programming">Python and Tkinter Programming</a></dt>
<dd>John Graysonによる解説書 (ISBN 1-884777-81-3) です。</dd>
</dl>
</div>
<div class="section" id="tkinter-modules">
<h2>25.1.1. Tkinter モジュール<a class="headerlink" href="#tkinter-modules" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ほとんどの場合、本当に必要となるのは <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> モジュールだけですが、他にもいくつかの追加モジュールを利用できます。Tk インタフェース自体はバイナリモジュール <code class="xref py py-mod docutils literal"><span class="pre">_tkinter</span></code> 内にあります。このモジュールに入っているのは Tk への低レベルインタフェースであり、アプリケーションプログラマが直接使ってはなりません。<code class="xref py py-mod docutils literal"><span class="pre">_tkinter</span></code> は通常共有ライブラリ (や DLL) になっていますが、Python インタプリタに静的にリンクされていることもあります。</p>
<p>Tk インタフェースモジュールの他にも <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> には数多くの Python モジュールが入っています。その中でも <code class="xref py py-mod docutils literal"><span class="pre">tkinter.constants</span></code> は最も重要なモジュールの一つですが、<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> をインポートすると <code class="xref py py-mod docutils literal"><span class="pre">tkinter.constants</span></code> は自動的にインポートされるので、以下のように <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> をインポートするだけで Tkinter を使えるようになります:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
</pre></div>
</div>
<p>あるいは、よく使うやり方で以下のようにします:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tkinter</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
<dl class="class">
<dt id="tkinter.Tk">
<em class="property">class </em><code class="descclassname">tkinter.</code><code class="descname">Tk</code><span class="sig-paren">(</span><em>screenName=None</em>, <em>baseName=None</em>, <em>className='Tk'</em>, <em>useTk=1</em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Tk" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal"><span class="pre">Tk</span></code></a> クラスは引数なしでインスタンス化します。これは Tk のトップレベルウィジェットを生成します。通常、トップレベルウィジェットはアプリケーションのメインウィンドウになります。それぞれのインスタンスごとに固有の Tcl インタプリタが関連づけられます。</p>
</dd></dl>

<dl class="function">
<dt id="tkinter.Tcl">
<code class="descclassname">tkinter.</code><code class="descname">Tcl</code><span class="sig-paren">(</span><em>screenName=None</em>, <em>baseName=None</em>, <em>className='Tk'</em>, <em>useTk=0</em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Tcl" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#tkinter.Tcl" title="tkinter.Tcl"><code class="xref py py-func docutils literal"><span class="pre">Tcl()</span></code></a> はファクトリ関数で、 <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal"><span class="pre">Tk</span></code></a> クラスで生成するオブジェクトとよく似たオブジェクトを生成します。ただし Tk サブシステムを初期化しません。この関数は、余分なトップレベルウィンドウを作る必要がなかったり、 (X サーバを持たない Unix/Linux システムなどのように) 作成できない環境において Tcl インタプリタを駆動したい場合に便利です。 <a class="reference internal" href="#tkinter.Tcl" title="tkinter.Tcl"><code class="xref py py-func docutils literal"><span class="pre">Tcl()</span></code></a> で生成したオブジェクトに対して <code class="xref py py-meth docutils literal"><span class="pre">loadtk()</span></code> メソッドを呼び出せば、トップレベルウィンドウを作成 (して、Tk サブシステムを初期化) します。</p>
</dd></dl>

<p>Tk をサポートしているモジュールには、他にも以下のようなモジュールがあります:</p>
<dl class="docutils">
<dt><a class="reference internal" href="tkinter.scrolledtext.html#module-tkinter.scrolledtext" title="tkinter.scrolledtext: Text widget with a vertical scroll bar. (Tk)"><code class="xref py py-mod docutils literal"><span class="pre">tkinter.scrolledtext</span></code></a></dt>
<dd>垂直スクロールバー付きのテキストウィジェットです。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.colorchooser</span></code></dt>
<dd>ユーザに色を選択させるためのダイアログです。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.commondialog</span></code></dt>
<dd>このリストの他のモジュールが定義しているダイアログの基底クラスです。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.filedialog</span></code></dt>
<dd>ユーザが開きたいファイルや保存したいファイルを指定できるようにする共通のダイアログです。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.font</span></code></dt>
<dd>フォントの扱いを補助するためのユーティリティです。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.messagebox</span></code></dt>
<dd>標準的な Tk のダイアログボックスにアクセスします。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.simpledialog</span></code></dt>
<dd>基本的なダイアログと便宜関数 (convenience function) です。</dd>
<dt><code class="xref py py-mod docutils literal"><span class="pre">tkinter.dnd</span></code></dt>
<dd><a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> 用のドラッグアンドドロップのサポートです。実験的なサポートで、Tk DND に置き替わった時点で撤廃されるはずです。</dd>
<dt><a class="reference internal" href="turtle.html#module-turtle" title="turtle: An educational framework for simple graphics applications"><code class="xref py py-mod docutils literal"><span class="pre">turtle</span></code></a></dt>
<dd>Tk ウィンドウ上でタートルグラフィックスを実現します。</dd>
</dl>
</div>
<div class="section" id="tkinter-life-preserver">
<h2>25.1.2. Tkinter お助け手帳<a class="headerlink" href="#tkinter-life-preserver" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>この節は、 Tk や Tkinter を全て網羅したチュートリアルを目指しているわけではありません。むしろ、Tkinter のシステムを学ぶ上での指針を示すための、その場しのぎ的なマニュアルです。</p>
<p>謝辞:</p>
<ul class="simple">
<li>Tk は John Ousterhout が Berkeley の在籍中に作成しました。</li>
<li>Tkinter は Steen Lumholt と Guido van Rossum が作成しました。</li>
<li>この Life Preserver は Virginia 大学の Matt Conway 他が執筆しました。</li>
<li>HTML レンダリングやたくさんの編集は、Ken Manheimer が FrameMaker 版から行いました。</li>
<li>Fredrik Lundh はクラスインタフェース詳細な説明を書いたり内容を改訂したりして、現行の Tk 4.2 に合うようにしました。</li>
<li>Mike Clarkson はドキュメントを LaTeX 形式に変換し、リファレンスマニュアルのユーザインタフェースの章をコンパイルしました。</li>
</ul>
<div class="section" id="how-to-use-this-section">
<h3>25.1.2.1. この節の使い方<a class="headerlink" href="#how-to-use-this-section" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>この節は二つの部分で構成されています: 前半では、背景となることがらを (大雑把に) 網羅しています。後半は、キーボードの横に置けるような手軽なリファレンスになっています。</p>
<p>「○○するにはどうしたらよいですか」という形の問いに答えようと思うなら、まず Tk で「○○する」方法を調べてから、このドキュメントに戻ってきてその方法に対応する <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> の関数呼び出しに変換するのが多くの場合最善の方法になります。Python プログラマが Tk ドキュメンテーションを見れば、たいてい正しい Python コマンドの見当をつけられます。従って、Tkinter を使うには Tk についてほんの少しだけ知っていればよいということになります。このドキュメントではその役割を果たせないので、次善の策として、すでにある最良のドキュメントについていくつかヒントを示しておくことにしましょう:</p>
<ul class="simple">
<li>Tk の man ページのコピーを手に入れるよう強く勧めます。とりわけ最も役立つのは <code class="docutils literal"><span class="pre">manN</span></code> ディレクトリ内にあるマニュアルです。<code class="docutils literal"><span class="pre">man3</span></code> のマニュアルページは Tk ライブラリに対する C インタフェースについての説明なので、スクリプト書きにとって取り立てて役に立つ内容ではありません。</li>
<li>Addison-Wesley は John Ousterhout の書いた Tcl and the Tk Toolkit (ISBN 0-201-63337-X) という名前の本を出版しています。この本は初心者向けの Tcl と Tk の良い入門書です。内容は網羅的ではなく、詳細の多くは man ページ任せにしています。</li>
<li>たいていの場合、<code class="file docutils literal"><span class="pre">tkinter/__init__.py</span></code> は参照先としての最後の手段ですが、それ以外の手段で調べても分からない場合には救いの地になるかもしれません。</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<dl class="last docutils">
<dt><a class="reference external" href="https://www.tcl.tk/man/tcl8.6/">Tcl/Tk 8.6 man pages</a></dt>
<dd>www.tcl.tk の Tcl/Tk マニュアルです。</dd>
<dt><a class="reference external" href="http://tcl.activestate.com/">ActiveState Tcl ホームページ</a></dt>
<dd>Tk/Tcl の開発は ActiveState で大々的に行われています。</dd>
<dt><a class="reference external" href="http://www.amazon.com/exec/obidos/ASIN/020163337X">Tcl and the Tk Toolkit</a></dt>
<dd>Tcl の発明者である John Ousterhout による本です。</dd>
<dt><a class="reference external" href="http://www.beedub.com/book/">Practical Programming in Tcl and Tk</a></dt>
<dd>Brent Welch の百科事典のような本です。</dd>
</dl>
</div>
</div>
<div class="section" id="a-simple-hello-world-program">
<h3>25.1.2.2. 簡単な Hello World プログラム<a class="headerlink" href="#a-simple-hello-world-program" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>

<span class="k">class</span> <span class="nc">Application</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_widgets</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">create_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hi_there</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hi_there</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Hello World</span><span class="se">\n</span><span class="s2">(click me)&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hi_there</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">say_hi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hi_there</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                              <span class="n">command</span><span class="o">=</span><span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">say_hi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hi there, everyone!&quot;</span><span class="p">)</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-very-quick-look-at-tcl-tk">
<h2>25.1.3. Tcl/Tk を (本当に少しだけ) 見渡してみる<a class="headerlink" href="#a-very-quick-look-at-tcl-tk" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>クラス階層は複雑に見えますが、実際にプログラムを書く際には、アプリケーションプログラマはほとんど常にクラス階層の最底辺にあるクラスしか参照しません。</p>
<p>注釈:</p>
<ul class="simple">
<li>クラスのいくつかは、特定の関数を一つの名前空間下にまとめるために提供されています。こうしたクラスは個別にインスタンス化するためのものではありません。</li>
<li><a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal"><span class="pre">Tk</span></code></a> クラスはアプリケーション内で一度だけインスタンス化するようになっています。アプリケーションプログラマが明示的にインスタンス化する必要はなく、他のクラスがインスタンス化されると常にシステムが作成します。</li>
<li><code class="xref py py-class docutils literal"><span class="pre">Widget</span></code> クラスもまた、インスタンス化して使うようにはなっていません。このクラスはサブクラス化して「実際の」ウィジェットを作成するためのものです。(C++ で言うところの、 '抽象クラス (abstract class)' です)。</li>
</ul>
<p>このリファレンス資料を活用するには、Tk の短いプログラムを読んだり、 Tk コマンドの様々な側面を知っておく必要がままあるでしょう。(下の説明の <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> 版は、<a class="reference internal" href="#tkinter-basic-mapping"><span class="std std-ref">基本的な Tk プログラムと Tkinter との対応関係</span></a> 節を参照してください。)</p>
<p>Tk スクリプトは Tcl プログラムです。全ての Tcl プログラムに同じく、 Tk スクリプトはトークンをスペースで区切って並べます。 Tk ウィジェットとは、ウィジェットの <em>クラス</em> 、ウィジェットの設定を行う <em>オプション</em> 、そしてウィジェットに役立つことをさせる <em>アクション</em> を組み合わせたものに過ぎません。</p>
<p>Tk でウィジェットを作るには、常に次のような形式のコマンドを使います:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">classCommand</span> <span class="n">newPathname</span> <span class="n">options</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>classCommand</em></dt>
<dd>どの種類のウィジェット (ボタン、ラベル、メニュー、…) を作るかを表します。</dd>
<dt><em>newPathname</em></dt>
<dd>作成するウィジェットにつける新たな名前です。Tk 内の全ての名前は一意になっていなければなりません。一意性を持たせる助けとして、 Tk 内のウィジェットは、ファイルシステムにおけるファイルと同様、 <em>パス名 (pathname)</em> を使って名づけられます。トップレベルのウィジェット、すなわち <em>ルート</em> は <code class="docutils literal"><span class="pre">.</span></code> (ピリオド) という名前になり、その子ウィジェット階層もピリオドで区切ってゆきます。ウィジェットの名前は、例えば <code class="docutils literal"><span class="pre">.myApp.controlPanel.okButton</span></code> のようになります。</dd>
<dt><em>options</em></dt>
<dd>ウィジェットの見た目を設定します。場合によってはウィジェットの挙動も設定します。オプションはフラグと値がリストになった形式をとります。 Unix のシェルコマンドのフラグと同じように、フラグの前には '-' がつき、複数の単語からなる値はクオートで囲まれます。</dd>
</dl>
<p>例えば:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">button</span>   <span class="o">.</span><span class="n">fred</span>   <span class="o">-</span><span class="n">fg</span> <span class="n">red</span> <span class="o">-</span><span class="n">text</span> <span class="s2">&quot;hi there&quot;</span>
   <span class="o">^</span>       <span class="o">^</span>     \<span class="n">______________________</span><span class="o">/</span>
   <span class="o">|</span>       <span class="o">|</span>                <span class="o">|</span>
 <span class="k">class</span>    <span class="nc">new</span>            <span class="n">options</span>
<span class="n">command</span>  <span class="n">widget</span>  <span class="p">(</span><span class="o">-</span><span class="n">opt</span> <span class="n">val</span> <span class="o">-</span><span class="n">opt</span> <span class="n">val</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>ウィジェットを作成すると、ウィジェットへのパス名は新しいコマンドになります。この新たな <em>widget command</em> は、プログラマが新たに作成したウィジェットに <em>action</em> を実行させる際のハンドル (handle) になります。C では someAction(fred, someOptions) と表し、 C++ では fred.someAction(someOptions) と表すでしょう。Tkでは:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">fred</span> <span class="n">someAction</span> <span class="n">someOptions</span>
</pre></div>
</div>
<p>のようにします。オブジェクト名 <code class="docutils literal"><span class="pre">.fred</span></code> はドットから始まっている点に注意してください。</p>
<p>読者の想像の通り、 <em>someAction</em> に指定できる値はウィジェットのクラスに依存しています: fred がボタンなら <code class="docutils literal"><span class="pre">.fred</span> <span class="pre">disable</span></code> はうまくいきます (fred はグレーになります) が、fred がラベルならうまくいきません (Tkではラベルの無効化をサポートしていないからです)。</p>
<p><em>someOptions</em> に指定できる値はアクションの内容に依存しています。 <code class="docutils literal"><span class="pre">disable</span></code> のようなアクションは引数を必要としませんが、テキストエントリボックスの <code class="docutils literal"><span class="pre">delete</span></code> コマンドのようなアクションにはテキストを削除する範囲を指定するための引数が必要になります。</p>
</div>
<div class="section" id="mapping-basic-tk-into-tkinter">
<span id="tkinter-basic-mapping"></span><h2>25.1.4. 基本的な Tk プログラムと Tkinter との対応関係<a class="headerlink" href="#mapping-basic-tk-into-tkinter" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Tk のクラスコマンドは、Tkinter のクラスコンストラクタに対応しています。</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">button</span> <span class="o">.</span><span class="n">fred</span>                <span class="o">=====&gt;</span>  <span class="n">fred</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
</pre></div>
</div>
<p>オブジェクトの親 (master) は、オブジェクトの作成時に指定した新たな名前から非明示的に決定されます。Tkinter では親を明示的に指定します。</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">button</span> <span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">fred</span>          <span class="o">=====&gt;</span>  <span class="n">fred</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
</div>
<p>Tk の設定オプションは、ハイフンをつけたタグと値の組からなるリストで指定します。Tkinter では、オプションはキーワード引数にしてインスタンスのコンストラクタに指定したり、 <code class="xref py py-meth docutils literal"><span class="pre">config()</span></code> にキーワード引数を指定して呼び出したり、インデクス指定を使ってインスタンスに代入したりして設定します。オプションの設定については <a class="reference internal" href="#tkinter-setting-options"><span class="std std-ref">オプションの設定</span></a> 節を参照してください。</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">button</span> <span class="o">.</span><span class="n">fred</span> <span class="o">-</span><span class="n">fg</span> <span class="n">red</span>        <span class="o">=====&gt;</span>  <span class="n">fred</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="o">.</span><span class="n">fred</span> <span class="n">configure</span> <span class="o">-</span><span class="n">fg</span> <span class="n">red</span>     <span class="o">=====&gt;</span>  <span class="n">fred</span><span class="p">[</span><span class="s2">&quot;fg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">red</span>
                            <span class="n">OR</span> <span class="o">==&gt;</span>  <span class="n">fred</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Tk でウィジェットにアクションを実行させるには、ウィジェット名をコマンドにして、その後にアクション名を続け、必要に応じて引数 (オプション) を続けます。Tkinter では、クラスインスタンスのメソッドを呼び出して、ウィジェットのアクションを呼び出します。あるウィジェットがどんなアクション (メソッド) を実行できるかは、<code class="file docutils literal"><span class="pre">tkinter/__init__.py</span></code> モジュール内にリストされています。</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">fred</span> <span class="n">invoke</span>                <span class="o">=====&gt;</span>  <span class="n">fred</span><span class="o">.</span><span class="n">invoke</span><span class="p">()</span>
</pre></div>
</div>
<p>Tk でウィジェットを packer (ジオメトリマネージャ) に渡すには、pack コマンドをオプション引数付きで呼び出します。Tkinter では Pack クラスがこの機能すべてを握っていて、様々な pack の形式がメソッドとして実装されています。<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> のウィジェットはすべて packer からサブクラス化されているため、pack 操作にまつわるすべてのメソッドを継承しています。Form ジオメトリマネージャに関する詳しい情報については <a class="reference internal" href="tkinter.tix.html#module-tkinter.tix" title="tkinter.tix: Tk Extension Widgets for Tkinter"><code class="xref py py-mod docutils literal"><span class="pre">tkinter.tix</span></code></a> モジュールのドキュメントを参照してください。</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">pack</span> <span class="o">.</span><span class="n">fred</span> <span class="o">-</span><span class="n">side</span> <span class="n">left</span>       <span class="o">=====&gt;</span>  <span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="how-tk-and-tkinter-are-related">
<h2>25.1.5. Tk と Tkinter はどのように関わっているのか<a class="headerlink" href="#how-tk-and-tkinter-are-related" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>上から下に、呼び出しの階層構造を説明してゆきます:</p>
<dl class="docutils">
<dt>あなたのアプリケーション (Python)</dt>
<dd>まず、Python アプリケーションが <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> を呼び出します。</dd>
<dt>tkinter (Python パッケージ)</dt>
<dd>上記の呼び出し (例えば、ボタンウィジェットの作成) は、<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> パッケージ内で実装されており、Python で書かれています。この Python で書かれた関数は、コマンドと引数を解析して変換し、あたかもコマンドが Python スクリプトではなく Tk スクリプトから来たようにみせかけます。</dd>
<dt>_tkinter (C)</dt>
<dd>上記のコマンドと引数は <code class="xref py py-mod docutils literal"><span class="pre">_tkinter</span></code> (先頭にアンダースコアです) 拡張モジュール内の C 関数に渡されます。</dd>
<dt>Tk ウィジェット (C および Tcl)</dt>
<dd>上記の C 関数は、Tk ライブラリを構成する C 関数の入った別の C モジュールへの呼び出しを行えるようになっています。Tk は C と少しの Tcl を使って実装されています。Tk ウィジェットの Tcl 部分は、ウィジェットのデフォルト動作をバインドするために使われ、Python <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> パッケージがインポートされた時に一度だけ実行されます (ユーザがこの過程を目にすることはありません)。</dd>
<dt>Tk (C)</dt>
<dd>Tk ウィジェットの Tk 部分で実装されている最終的な対応付け操作によって…</dd>
<dt>Xlib (C)</dt>
<dd>Xlib ライブラリがスクリーン上にグラフィックスを描きます。</dd>
</dl>
</div>
<div class="section" id="handy-reference">
<h2>25.1.6. 簡単なリファレンス<a class="headerlink" href="#handy-reference" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="setting-options">
<span id="tkinter-setting-options"></span><h3>25.1.6.1. オプションの設定<a class="headerlink" href="#setting-options" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>オプションは、色やウィジェットの境界線幅などを制御します。オプションの設定には三通りの方法があります:</p>
<dl class="docutils">
<dt>オブジェクト生成時、キーワード引数を使用する</dt>
<dd><div class="first last highlight-python3"><div class="highlight"><pre><span></span><span class="n">fred</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>オブジェクト生成後、オプション名を辞書インデックスのように扱う</dt>
<dd><div class="first last highlight-python3"><div class="highlight"><pre><span></span><span class="n">fred</span><span class="p">[</span><span class="s2">&quot;fg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
<span class="n">fred</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
</pre></div>
</div>
</dd>
<dt>オブジェクト生成後に、config()メソッドを使って複数の属性を更新する</dt>
<dd><div class="first last highlight-python3"><div class="highlight"><pre><span></span><span class="n">fred</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>オプションとその振る舞いに関する詳細な説明は、該当するウィジェットの Tk の man ページを参照してください。</p>
<p>man ページには、各ウィジェットの &quot;STANDARD OPTIONS (標準オプション)&quot; と &quot;WIDGET SPECIFIC OPTIONS (ウィジェット固有のオプション)&quot; がリストされていることに注意してください。前者は多くのウィジェットに共通のオプションのリストで、後者は特定のウィジェットに特有のオプションです。標準オプションの説明は man ページの <em class="manpage">options(3)</em> にあります。</p>
<p>このドキュメントでは、標準オプションとウィジェット固有のオプションを区別していません。オプションによっては、ある種のウィジェットに適用できません。あるウィジェットがあるオプションに対応しているかどうかは、ウィジェットのクラスによります。例えばボタンには <code class="docutils literal"><span class="pre">command</span></code> オプションがありますが、ラベルにはありません。</p>
<p>あるウィジェットがどんなオプションをサポートしているかは、ウィジェットの man ページにリストされています。また、実行時にウィジェットの <code class="xref py py-meth docutils literal"><span class="pre">config()</span></code> メソッドを引数なしで呼び出したり、 <code class="xref py py-meth docutils literal"><span class="pre">keys()</span></code> メソッドを呼び出したりして問い合わせることもできます。メソッド呼び出しを行うと辞書型の値を返します。この辞書は、オプションの名前がキー (例えば <code class="docutils literal"><span class="pre">'relief'</span></code>) になっていて、値が 5 要素のタプルになっています。</p>
<p><code class="docutils literal"><span class="pre">bg</span></code> のように、いくつかのオプションはより長い名前を持つ共通のオプションに対する同義語になっています (<code class="docutils literal"><span class="pre">bg</span></code> は &quot;background&quot; を短縮したものです)。短縮形のオプション名を <code class="docutils literal"><span class="pre">config()</span></code> に渡すと、 5 要素ではなく 2 要素のタプルを返します。このタプルには、同義語の名前と「本当の」オプション名が入っています (例えば <code class="docutils literal"><span class="pre">('bg',</span> <span class="pre">'background')</span></code>)。</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="61%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">インデックス</th>
<th class="head">意味</th>
<th class="head">使用例</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>オプション名</td>
<td><code class="docutils literal"><span class="pre">'relief'</span></code></td>
</tr>
<tr class="row-odd"><td>1</td>
<td>データベース検索用のオプション名</td>
<td><code class="docutils literal"><span class="pre">'relief'</span></code></td>
</tr>
<tr class="row-even"><td>2</td>
<td>データベース検索用のオプションクラス</td>
<td><code class="docutils literal"><span class="pre">'Relief'</span></code></td>
</tr>
<tr class="row-odd"><td>3</td>
<td>デフォルト値</td>
<td><code class="docutils literal"><span class="pre">'raised'</span></code></td>
</tr>
<tr class="row-even"><td>4</td>
<td>現在の値</td>
<td><code class="docutils literal"><span class="pre">'groove'</span></code></td>
</tr>
</tbody>
</table>
<p>以下はプログラム例です:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fred</span><span class="o">.</span><span class="n">config</span><span class="p">())</span>
<span class="go">{&#39;relief&#39;: (&#39;relief&#39;, &#39;relief&#39;, &#39;Relief&#39;, &#39;raised&#39;, &#39;groove&#39;)}</span>
</pre></div>
</div>
<p>もちろん、実際に出力される辞書には利用可能なオプションが全て表示されます。上の表示例は単なる例にすぎません。</p>
</div>
<div class="section" id="the-packer">
<h3>25.1.6.2. Packer<a class="headerlink" href="#the-packer" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p id="index-0">packer は Tk のジオメトリ管理メカニズムの一つです。ジオメトリマネージャは、複数のウィジェットの位置を、それぞれのウィジェットを含むコンテナ - 共通の <em>マスタ (master)</em> からの相対で指定するために使います。やや扱いにくい <em>placer</em> (あまり使われないのでここでは取り上げません) と違い、packer は定性的な関係を表す指定子 - <em>上 (above)</em> 、 <em>〜の左 (to the left of)</em> 、 <em>引き延ばし (filling)</em> など - を受け取り、厳密な配置座標の決定を全て行ってくれます。</p>
<p>どんな <em>マスタ</em> ウィジェットでも、大きさは内部の &quot;スレイブ (slave) ウィジェット&quot; の大きさで決まります。 packer は、スレイブウィジェットを pack 先のマスタウィジェット中のどこに配置するかを制御するために使われます。望みのレイアウトを達成するには、ウィジェットをフレームにパックし、そのフレームをまた別のフレームにパックできます。さらに、一度パックを行うと、それ以後の設定変更に合わせて動的に並べ方を調整します。</p>
<p>ジオメトリマネージャがウィジェットのジオメトリを確定するまで、ウィジェットは表示されないので注意してください。初心者のころにはよくジオメトリの確定を忘れてしまい、ウィジェットを生成したのに何も表示されず驚くことになります。ウィジェットは、(例えば packer の <code class="xref py py-meth docutils literal"><span class="pre">pack()</span></code> メソッドを適用して) ジオメトリを確定した後で初めて表示されます。</p>
<p>pack() メソッドは、キーワード引数つきで呼び出せます。キーワード引数は、ウィジェットをコンテナ内のどこに表示するか、メインのアプリケーションウィンドウをリサイズしたときにウィジェットがどう振舞うかを制御します。以下に例を示します:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>                     <span class="c1"># defaults to side = &quot;top&quot;</span>
<span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="packer-options">
<h3>25.1.6.3. Packer のオプション<a class="headerlink" href="#packer-options" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>packer と packer の取りえるオプションについての詳細は、man ページや John Ousterhout の本の183ページを参照してください。</p>
<dl class="docutils">
<dt>anchor</dt>
<dd>アンカーの型です。 packer が区画内に各スレイブを配置する位置を示します。</dd>
<dt>expand</dt>
<dd>ブール値で、 <code class="docutils literal"><span class="pre">0</span></code> または <code class="docutils literal"><span class="pre">1</span></code> になります。</dd>
<dt>fill</dt>
<dd>指定できる値は <code class="docutils literal"><span class="pre">'x'</span></code> 、 <code class="docutils literal"><span class="pre">'y'</span></code> 、 <code class="docutils literal"><span class="pre">'both'</span></code> 、 <code class="docutils literal"><span class="pre">'none'</span></code> です。</dd>
<dt>ipadx および ipady</dt>
<dd>スレイブウィジェットの各側面の内側に行うパディング幅を表す長さを指定します。</dd>
<dt>padx および pady</dt>
<dd>スレイブウィジェットの各側面の外側に行うパディング幅を表す長さを指定します。</dd>
<dt>side</dt>
<dd>指定できる値は <code class="docutils literal"><span class="pre">'left'</span></code>, <code class="docutils literal"><span class="pre">'right'</span></code>, <code class="docutils literal"><span class="pre">'top'</span></code>, <code class="docutils literal"><span class="pre">'bottom'</span></code> です。</dd>
</dl>
</div>
<div class="section" id="coupling-widget-variables">
<h3>25.1.6.4. ウィジェット変数を関連付ける<a class="headerlink" href="#coupling-widget-variables" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ウィジェットによっては、(テキスト入力ウィジェットのように) 特殊なオプションを使って、現在設定されている値をアプリケーション内の変数に直接関連付けできます。このようなオプションには <code class="docutils literal"><span class="pre">variable</span></code>, <code class="docutils literal"><span class="pre">textvariable</span></code>, <code class="docutils literal"><span class="pre">onvalue</span></code>, <code class="docutils literal"><span class="pre">offvalue</span></code> および <code class="docutils literal"><span class="pre">value</span></code> があります。この関連付けは双方向に働きます: 変数の値が何らかの理由で変更されると、関連付けされているウィジェットも更新され、新しい値を反映します。</p>
<p>残念ながら、現在の <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> の実装では、<code class="docutils literal"><span class="pre">variable</span></code> や <code class="docutils literal"><span class="pre">textvariable</span></code> オプションでは任意の Python の値をウィジェットに渡せません。この関連付け機能がうまく働くのは、<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> 内で Variable というクラスからサブクラス化されている変数によるオプションだけです。</p>
<p>Variable には、 <code class="xref py py-class docutils literal"><span class="pre">StringVar</span></code>, <code class="xref py py-class docutils literal"><span class="pre">IntVar</span></code>, <code class="xref py py-class docutils literal"><span class="pre">DoubleVar</span></code>, <code class="xref py py-class docutils literal"><span class="pre">BooleanVar</span></code> といった便利なサブクラスがすでにすでに数多く定義されています。こうした変数の現在の値を読み出したければ、 <code class="xref py py-meth docutils literal"><span class="pre">get()</span></code> メソッドを呼び出します。また、値を変更したければ <code class="xref py py-meth docutils literal"><span class="pre">set()</span></code> メソッドを呼び出します。このプロトコルに従っている限り、それ以上なにも手を加えなくてもウィジェットは常に現在値に追従します。</p>
<p>例えば:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

        <span class="c1"># here is the application variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="c1"># set it to some value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;this is a variable&quot;</span><span class="p">)</span>
        <span class="c1"># tell the entry widget to watch this variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span><span class="p">[</span><span class="s2">&quot;textvariable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span>

        <span class="c1"># and here we get a callback when the user hits return.</span>
        <span class="c1"># we will have the program print out the value of the</span>
        <span class="c1"># application variable when the user hits return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Key-Return&gt;&#39;</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">print_contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">print_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hi. contents of entry is now ----&gt;&quot;</span><span class="p">,</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="the-window-manager">
<h3>25.1.6.5. ウィンドウマネージャ<a class="headerlink" href="#the-window-manager" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p id="index-1">Tk には、ウィンドウマネジャとやり取りするための <code class="docutils literal"><span class="pre">wm</span></code> というユーティリティコマンドがあります。<code class="docutils literal"><span class="pre">wm</span></code> コマンドにオプションを指定すると、タイトルや配置、アイコンビットマップなどを操作できます。<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> では、こうしたコマンドは <code class="xref py py-class docutils literal"><span class="pre">Wm</span></code> クラスのメソッドとして実装されています。トップレベルウィジェットは <code class="xref py py-class docutils literal"><span class="pre">Wm</span></code> クラスからサブクラス化されているので、<code class="xref py py-class docutils literal"><span class="pre">Wm</span></code> のメソッドを直接呼び出せます。</p>
<p>あるウィジェットの入っているトップレベルウィンドウを取得したい場合、大抵は単にウィジェットのマスタを参照するだけですみます。とはいえ、ウィジェットがフレーム内にパックされている場合、マスタはトップレベルウィンドウではありません。任意のウィジェットの入っているトップレベルウィンドウを知りたければ <code class="xref py py-meth docutils literal"><span class="pre">_root()</span></code> メソッドを呼び出してください。このメソッドはアンダースコアがついていますが、これはこの関数が <code class="xref py py-mod docutils literal"><span class="pre">Tkinter</span></code> の実装の一部であり、Tk の機能に対するインタフェースではないことを示しています。</p>
<p>以下に典型的な使い方の例をいくつか挙げます:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

<span class="c1"># create the application</span>
<span class="n">myapp</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>

<span class="c1">#</span>
<span class="c1"># here are method calls to the window manager class</span>
<span class="c1">#</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;My Do-Nothing Application&quot;</span><span class="p">)</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">maxsize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>

<span class="c1"># start the program</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="tk-option-data-types">
<h3>25.1.6.6. Tk オプションデータ型<a class="headerlink" href="#tk-option-data-types" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="docutils" id="index-2">
<dt>anchor</dt>
<dd>指定できる値はコンパスの方位です: <code class="docutils literal"><span class="pre">&quot;n&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;ne&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;e&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;se&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;s&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;sw&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;w&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;nw&quot;</span></code> 、および <code class="docutils literal"><span class="pre">&quot;center&quot;</span></code> 。</dd>
<dt>bitmap</dt>
<dd>八つの組み込み、名前付きビットマップ: <code class="docutils literal"><span class="pre">'error'</span></code> 、 <code class="docutils literal"><span class="pre">'gray25'</span></code> 、 <code class="docutils literal"><span class="pre">'gray50'</span></code> 、 <code class="docutils literal"><span class="pre">'hourglass'</span></code> 、 <code class="docutils literal"><span class="pre">'info'</span></code> 、 <code class="docutils literal"><span class="pre">'questhead'</span></code> 、 <code class="docutils literal"><span class="pre">'question'</span></code> 、 <code class="docutils literal"><span class="pre">'warning'</span></code> 。 X ビットマップファイル名を指定するために、 <code class="docutils literal"><span class="pre">&quot;&#64;/usr/contrib/bitmap/gumby.bit&quot;</span></code> のような <code class="docutils literal"><span class="pre">&#64;</span></code> を先頭に付けたファイルへの完全なパスを与えてください。</dd>
<dt>boolean</dt>
<dd>整数 0 または 1 、あるいは、文字列 <code class="docutils literal"><span class="pre">&quot;yes&quot;</span></code> または <code class="docutils literal"><span class="pre">&quot;no&quot;</span></code> を渡すことができます。</dd>
<dt>callback</dt>
<dd><p class="first">これは引数を取らない Python 関数ならどれでも構いません。例えば:</p>
<div class="last highlight-python3"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_it</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hi there&quot;</span><span class="p">)</span>
<span class="n">fred</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">print_it</span>
</pre></div>
</div>
</dd>
<dt>color</dt>
<dd>色は rgb.txt ファイルの X カラーの名前か、または RGB 値を表す文字列として与えられます。 RGB 値を表す文字列は、4ビット: <code class="docutils literal"><span class="pre">&quot;#RGB&quot;</span></code>, 8 bit: <code class="docutils literal"><span class="pre">&quot;#RRGGBB&quot;</span></code>, 12 bit: <code class="docutils literal"><span class="pre">&quot;#RRRGGGBBB&quot;</span></code>, あるいは、16 bit <code class="docutils literal"><span class="pre">&quot;#RRRRGGGGBBBB&quot;</span></code> の範囲を取ります。ここでは、R,G,B は適切な十六進数ならどんなものでも表します。詳細は、Ousterhout の本の160ページを参照してください。</dd>
<dt>cursor</dt>
<dd><code class="file docutils literal"><span class="pre">cursorfont.h</span></code> の標準Xカーソル名を、接頭語 <code class="docutils literal"><span class="pre">XC_</span></code> 無しで使うことができます。例えば、handカーソル(<code class="xref py py-const docutils literal"><span class="pre">XC_hand2</span></code>)を得るには、文字列 <code class="docutils literal"><span class="pre">&quot;hand2&quot;</span></code> を使ってください。あなた自身のビットマップとマスクファイルを指定することもできます。 Ousterhout の本の179ページを参照してください。</dd>
<dt>distance</dt>
<dd>スクリーン上の距離をピクセルか絶対距離のどちらかで指定できます。ピクセルは数値として与えられ、絶対距離は文字列として与えられます。絶対距離を表す文字列は、単位を表す終了文字 (センチメートルには <code class="docutils literal"><span class="pre">c</span></code> 、インチには <code class="docutils literal"><span class="pre">i</span></code> 、ミリメートルには <code class="docutils literal"><span class="pre">m</span></code> 、プリンタのポイントには <code class="docutils literal"><span class="pre">p</span></code>)を伴います。例えば、3.5インチは <code class="docutils literal"><span class="pre">&quot;3.5i&quot;</span></code> と表現します。</dd>
<dt>font</dt>
<dd>Tkはフォント名の形式に <code class="docutils literal"><span class="pre">{courier</span> <span class="pre">10</span> <span class="pre">bold}</span></code> のようなリストを使います。正の数のフォントサイズはポイント単位で使用され、負の数のサイズはピクセル単位と見なされます。</dd>
<dt>geometry</dt>
<dd>これは <code class="docutils literal"><span class="pre">widthxheight</span></code> 形式の文字列です。ここでは、ほとんどのウィジェットに対して幅と高さピクセル単位で (テキストを表示するウィジェットに対しては文字単位で)表されます。例えば: <code class="docutils literal"><span class="pre">fred[&quot;geometry&quot;]</span> <span class="pre">=</span> <span class="pre">&quot;200x100&quot;</span></code> 。</dd>
<dt>justify</dt>
<dd>指定できる値は文字列です: <code class="docutils literal"><span class="pre">&quot;left&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;center&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;right&quot;</span></code> 、そして <code class="docutils literal"><span class="pre">&quot;fill&quot;</span></code> 。</dd>
<dt>region</dt>
<dd>これは空白で区切られた四つの要素をもつ文字列です。各要素は指定可能な距離です(以下を参照)。例えば: <code class="docutils literal"><span class="pre">&quot;2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">5&quot;</span></code> と <code class="docutils literal"><span class="pre">&quot;3i</span> <span class="pre">2i</span> <span class="pre">4.5i</span> <span class="pre">2i&quot;</span></code> と <code class="docutils literal"><span class="pre">&quot;3c</span> <span class="pre">2c</span> <span class="pre">4c</span> <span class="pre">10.43c&quot;</span></code> は、すべて指定可能な範囲です。</dd>
<dt>relief</dt>
<dd>ウィジェットのボーダのスタイルが何かを決めます。指定できる値は: <code class="docutils literal"><span class="pre">&quot;raised&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;sunken&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;flat&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;groove&quot;</span></code> 、と <code class="docutils literal"><span class="pre">&quot;ridge&quot;</span></code> 。</dd>
<dt>scrollcommand</dt>
<dd>これはほとんどの場合スクロールバーウィジェットの <code class="xref py py-meth docutils literal"><span class="pre">set()</span></code> メソッドですが、1 個の引数を取るあらゆるウィジェットにもなりえます。</dd>
<dt>wrap:</dt>
<dd>次の中の一つでなければなりません: <code class="docutils literal"><span class="pre">&quot;none&quot;</span></code> 、 <code class="docutils literal"><span class="pre">&quot;char&quot;</span></code> 、あるいは <code class="docutils literal"><span class="pre">&quot;word&quot;</span></code> 。</dd>
</dl>
</div>
<div class="section" id="bindings-and-events">
<h3>25.1.6.7. バインドとイベント<a class="headerlink" href="#bindings-and-events" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p id="index-3">ウィジェットコマンドからの bind メソッドによって、あるイベントを待つことと、そのイベント型が起きたときにコールバック関数を呼び出すことができるようになります。 bind メソッドの形式は:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</pre></div>
</div>
<p>ここでは:</p>
<dl class="docutils">
<dt>sequence</dt>
<dd>は対象とするイベントの型を示す文字列です (詳細については、bind の man ページと John Ousterhout の本の201ページを参照してください)。</dd>
<dt>func</dt>
<dd>は一引数を取り、イベントが起きるときに呼び出される Python 関数です。イベント・インスタンスが引数として渡されます。 (このように実施される関数は、一般に <em>callbacks</em> として知られています。)</dd>
<dt>add</dt>
<dd>はオプションで、 <code class="docutils literal"><span class="pre">''</span></code> か <code class="docutils literal"><span class="pre">'+'</span></code> のどちらかです。空文字列を渡すことは、このイベントが関係する他のどんなバインドをもこのバインドが置き換えることを意味します。 <code class="docutils literal"><span class="pre">'+'</span></code> を使う仕方は、この関数がこのイベント型にバインドされる関数のリストに追加されることを意味しています。</dd>
</dl>
<p>例えば:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">turn_red</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="n">event</span><span class="o">.</span><span class="n">widget</span><span class="p">[</span><span class="s2">&quot;activeforeground&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>

<span class="bp">self</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Enter&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">turn_red</span><span class="p">)</span>
</pre></div>
</div>
<p>イベントのウィジェットフィールドが <code class="docutils literal"><span class="pre">turn_red()</span></code> コールバック内でどのようにアクセスされているかに注目してください。このフィールドは X イベントを捕らえたウィジェットを含んでいます。以下の表はアクセスできる他のイベントフィールドとそれらの Tk での表現方法の一覧です。Tk man ページを参照するときに役に立つでしょう。</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="42%" />
<col width="8%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tk</th>
<th class="head">Tkinter イベントフィールド</th>
<th class="head">Tk</th>
<th class="head">Tkinter イベントフィールド</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>%f</td>
<td>focus</td>
<td>%A</td>
<td>char</td>
</tr>
<tr class="row-odd"><td>%h</td>
<td>高さ</td>
<td>%E</td>
<td>send_event</td>
</tr>
<tr class="row-even"><td>%k</td>
<td>keycode</td>
<td>%K</td>
<td>keysym</td>
</tr>
<tr class="row-odd"><td>%s</td>
<td>state</td>
<td>%N</td>
<td>keysym_num</td>
</tr>
<tr class="row-even"><td>%t</td>
<td>time</td>
<td>%T</td>
<td>type</td>
</tr>
<tr class="row-odd"><td>%w</td>
<td>幅</td>
<td>%W</td>
<td>widget</td>
</tr>
<tr class="row-even"><td>%x</td>
<td>x</td>
<td>%X</td>
<td>x_root</td>
</tr>
<tr class="row-odd"><td>%y</td>
<td>y</td>
<td>%Y</td>
<td>y_root</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-index-parameter">
<h3>25.1.6.8. index パラメータ<a class="headerlink" href="#the-index-parameter" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>多くのウィジェットにはパラメータ &quot;index&quot; を渡す必要があります。これらはテキストウィジェット内の特定の位置や、エントリウィジェット内の特定の文字、あるいはメニューウィジェット内の特定のメニューアイテムを指定するために使用されます。</p>
<dl class="docutils">
<dt>エントリウィジェットのインデックス(インデックス、ビューインデックスなど)</dt>
<dd>エントリウィジェットは表示されているテキスト内の文字位置を参照するオプションを持っています。テキストウィジェットにおけるこれらの特別な位置にアクセスするために、次の <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal"><span class="pre">tkinter</span></code></a> 関数を使うことができます:</dd>
<dt>テキストウィジェットのインデックス</dt>
<dd>テキストウィジェットに対するインデックス記法はとても機能が豊富で、 Tk manページでよく説明されています。</dd>
<dt>メニューのインデックス(menu.invoke()、menu.entryconfig()など)</dt>
<dd><p class="first">メニューに対するいくつかのオプションとメソッドは特定のメニュー項目を操作します。メニューインデックスはオプションまたはパラメータのために必要とされるときはいつでも、以下のものを渡すことができます:</p>
<ul class="last simple">
<li>ウィジェット内の数字の先頭からの位置を指す整数。先頭は 0。</li>
<li>文字列 <code class="docutils literal"><span class="pre">&quot;active&quot;</span></code>。現在カーソルがあるメニューの位置を指します。</li>
<li>文字列 <code class="docutils literal"><span class="pre">&quot;last&quot;</span></code> 。最後のメニューを指します。</li>
<li><code class="docutils literal"><span class="pre">&#64;6</span></code> のような <code class="docutils literal"><span class="pre">&#64;</span></code> が前に来る整数。ここでは、整数がメニューの座標系における y ピクセル座標として解釈されます。</li>
<li>文字列 <code class="docutils literal"><span class="pre">&quot;none&quot;</span></code>。どんなメニューエントリもまったく指しておらず、ほとんどの場合、すべてのエントリの動作を停止させるために menu.activate() と一緒に使われます。そして、最後に、</li>
<li>メニューの先頭から一番下までスキャンしたときに、メニューエントリのラベルに一致したパターンであるテキスト文字列。このインデックス型は他すべての後に考慮されることに注意してください。その代わりに、それは <code class="docutils literal"><span class="pre">last</span></code> 、 <code class="docutils literal"><span class="pre">active</span></code> または <code class="docutils literal"><span class="pre">none</span></code> とラベル付けされたメニュー項目への一致は上のリテラルとして解釈されることを意味します。</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="images">
<h3>25.1.6.9. 画像<a class="headerlink" href="#images" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Bitmap/Pixelmap 画像を <code class="xref py py-class docutils literal"><span class="pre">tkinter.Image</span></code> のサブクラスを使って作ることができます:</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal"><span class="pre">BitmapImage</span></code> は X11 ビットマップデータに対して使えます。</li>
<li><code class="xref py py-class docutils literal"><span class="pre">PhotoImage</span></code> は GIF と PPM/PGM カラービットマップに対して使えます。</li>
</ul>
<p>画像のどちらの型でも <code class="docutils literal"><span class="pre">file</span></code> または <code class="docutils literal"><span class="pre">data</span></code> オプションを使って作られます (その上、他のオプションも利用できます)。</p>
<p><code class="docutils literal"><span class="pre">image</span></code> オプションがウィジェットにサポートされるところならどこでも、画像オブジェクトを使うことができます (例えば、ラベル、ボタン、メニュー)。これらの場合では、Tk は画像への参照を保持しないでしょう。画像オブジェクトへの最後の Python の参照が削除されたときに、画像データも削除されます。そして、どこで画像が使われていようとも、Tk は空の箱を表示します。</p>
</div>
</div>
<div class="section" id="file-handlers">
<span id="tkinter-file-handlers"></span><h2>25.1.7. ファイルハンドラ<a class="headerlink" href="#file-handlers" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Tk を使うとコールバック関数の登録や解除ができ、ファイルディスクリプタに対する入出力が可能なときに、Tk のメインループからその関数が呼ばれます。
ファイルディスクリプタ1つにつき、1つだけハンドラは登録されます。コード例です:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="n">widget</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">READABLE</span> <span class="o">|</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">WRITABLE</span>
<span class="n">widget</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">createfilehandler</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">widget</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">deletefilehandler</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
<p>これらの機能は Windows では利用できません。</p>
<p>読み込みに使えるバイト数は分からないので、 <a class="reference internal" href="io.html#io.BufferedIOBase" title="io.BufferedIOBase"><code class="xref py py-class docutils literal"><span class="pre">BufferedIOBase</span></code></a> クラスや <a class="reference internal" href="io.html#io.TextIOBase" title="io.TextIOBase"><code class="xref py py-class docutils literal"><span class="pre">TextIOBase</span></code></a> クラスの <a class="reference internal" href="io.html#io.BufferedIOBase.read" title="io.BufferedIOBase.read"><code class="xref py py-meth docutils literal"><span class="pre">read()</span></code></a> メソッドおよび <a class="reference internal" href="io.html#io.IOBase.readline" title="io.IOBase.readline"><code class="xref py py-meth docutils literal"><span class="pre">readline()</span></code></a> メソッドを使おうとしないでください。これらは読み込みの際に、あらかじめ決められたバイト数を要求するのです。ソケットには、 <a class="reference internal" href="socket.html#socket.socket.recv" title="socket.socket.recv"><code class="xref py py-meth docutils literal"><span class="pre">recv()</span></code></a> や <a class="reference internal" href="socket.html#socket.socket.recvfrom" title="socket.socket.recvfrom"><code class="xref py py-meth docutils literal"><span class="pre">recvfrom()</span></code></a> メソッドを使うといいです。その他のファイルには、 raw 読み込みか <code class="docutils literal"><span class="pre">os.read(file.fileno(),</span> <span class="pre">maxbytecount)</span></code> を使ってください。</p>
<dl class="method">
<dt id="tkinter.Widget.tk.createfilehandler">
<code class="descclassname">Widget.tk.</code><code class="descname">createfilehandler</code><span class="sig-paren">(</span><em>file</em>, <em>mask</em>, <em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Widget.tk.createfilehandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ファイルハンドラであるコールバック関数 <em>func</em> を登録します。 <em>file</em> 引数は、 (ファイルやソケットオブジェクトのような) <a class="reference internal" href="io.html#io.IOBase.fileno" title="io.IOBase.fileno"><code class="xref py py-meth docutils literal"><span class="pre">fileno()</span></code></a> メソッドを持つオブジェクトか、整数のファイルディスクリプタとなります。 <em>mask</em> 引数は、以下にある3つの定数の組み合わせの OR を取ったものです。コールバックは次のように呼ばれます:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">callback</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="tkinter.Widget.tk.deletefilehandler">
<code class="descclassname">Widget.tk.</code><code class="descname">deletefilehandler</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Widget.tk.deletefilehandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ファイルハンドラの登録を解除します。</p>
</dd></dl>

<dl class="data">
<dt id="tkinter.READABLE">
<code class="descclassname">tkinter.</code><code class="descname">READABLE</code><a class="headerlink" href="#tkinter.READABLE" title="この定義へのパーマリンク">¶</a></dt>
<dt id="tkinter.WRITABLE">
<code class="descclassname">tkinter.</code><code class="descname">WRITABLE</code><a class="headerlink" href="#tkinter.WRITABLE" title="この定義へのパーマリンク">¶</a></dt>
<dt id="tkinter.EXCEPTION">
<code class="descclassname">tkinter.</code><code class="descname">EXCEPTION</code><a class="headerlink" href="#tkinter.EXCEPTION" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>mask</em> 引数で使う定数です。</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">25.1. <code class="docutils literal"><span class="pre">tkinter</span></code> — Tcl/Tk の Python インタフェース</a><ul>
<li><a class="reference internal" href="#tkinter-modules">25.1.1. Tkinter モジュール</a></li>
<li><a class="reference internal" href="#tkinter-life-preserver">25.1.2. Tkinter お助け手帳</a><ul>
<li><a class="reference internal" href="#how-to-use-this-section">25.1.2.1. この節の使い方</a></li>
<li><a class="reference internal" href="#a-simple-hello-world-program">25.1.2.2. 簡単な Hello World プログラム</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-very-quick-look-at-tcl-tk">25.1.3. Tcl/Tk を (本当に少しだけ) 見渡してみる</a></li>
<li><a class="reference internal" href="#mapping-basic-tk-into-tkinter">25.1.4. 基本的な Tk プログラムと Tkinter との対応関係</a></li>
<li><a class="reference internal" href="#how-tk-and-tkinter-are-related">25.1.5. Tk と Tkinter はどのように関わっているのか</a></li>
<li><a class="reference internal" href="#handy-reference">25.1.6. 簡単なリファレンス</a><ul>
<li><a class="reference internal" href="#setting-options">25.1.6.1. オプションの設定</a></li>
<li><a class="reference internal" href="#the-packer">25.1.6.2. Packer</a></li>
<li><a class="reference internal" href="#packer-options">25.1.6.3. Packer のオプション</a></li>
<li><a class="reference internal" href="#coupling-widget-variables">25.1.6.4. ウィジェット変数を関連付ける</a></li>
<li><a class="reference internal" href="#the-window-manager">25.1.6.5. ウィンドウマネージャ</a></li>
<li><a class="reference internal" href="#tk-option-data-types">25.1.6.6. Tk オプションデータ型</a></li>
<li><a class="reference internal" href="#bindings-and-events">25.1.6.7. バインドとイベント</a></li>
<li><a class="reference internal" href="#the-index-parameter">25.1.6.8. index パラメータ</a></li>
<li><a class="reference internal" href="#images">25.1.6.9. 画像</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-handlers">25.1.7. ファイルハンドラ</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="tk.html"
                        title="前の章へ">25. Tk を用いたグラフィカルユーザインターフェイス</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="tkinter.ttk.html"
                        title="次の章へ">25.2. <code class="docutils literal"><span class="pre">tkinter.ttk</span></code> — Tk のテーマ付きウィジェット</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">バグ報告</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.6/Doc/library/tkinter.rst"
            rel="nofollow">ソースの表示
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="tkinter.ttk.html" title="25.2. tkinter.ttk — Tk のテーマ付きウィジェット"
             >次へ</a> |</li>
        <li class="right" >
          <a href="tk.html" title="25. Tk を用いたグラフィカルユーザインターフェイス"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="https://www.python.org/">Python</a> &#187;</li>
        <li>
          <span class="version_switcher_placeholder">3.6.3</span>
          <a href="../index.html">ドキュメント</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tk.html" >25. Tk を用いたグラフィカルユーザインターフェイス</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2017, Python Software Foundation.
    <br />
    Python Software Foundation は非営利団体です。
    <a href="https://www.python.org/psf/donations/">寄付</a>
    <br />
    最終更新日時: 11月 04, 2017
    <a href="../bugs.html">バグを見つけたら</a>?
    <br />
    このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.4 を使って作成されました。
    </div>

  </body>
</html>